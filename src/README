#Run one of the following commands to build the ROM for the chosen HCA (don't forget to clean)

#Build ConnectX-4Lx
make -j `getconf _NPROCESSORS_ONLN` bin/ConnectX-4Lx.mrom EXTRA_CFLAGS='-DMLX_BUILD -D__MLX_0001_MAJOR_VER_=0x00100003 -D__MLX_MIN_SUB_MIN_VER_=0x000402cf -D__MLX_DEV_ID_00ff=0x101500ff -D__BUILD_VERSION__=\"3.4.719\" -DFLASH_CONFIGURATION  -Idrivers/infiniband/mlx_utils_flexboot/include/  -Idrivers/infiniband/mlx_utils/include/  -Idrivers/infiniband/mlx_utils/include/public/  -Idrivers/infiniband/mlx_utils/include/private/  -Idrivers/infiniband/mlx_nodnic/include/  -Idrivers/infiniband/mlx_nodnic/include/public/  -Idrivers/infiniband/mlx_nodnic/include/private/  -Idrivers/infiniband/mlx_utils_flexboot/tests/include/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_reg_access/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_nvconfig/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_vmac/  -DDEVICE_CX4' 

#Build ConnectX-4
make -j `getconf _NPROCESSORS_ONLN` bin/ConnectX-4.mrom EXTRA_CFLAGS='-DMLX_BUILD -D__MLX_0001_MAJOR_VER_=0x00100003 -D__MLX_MIN_SUB_MIN_VER_=0x000402cf -D__MLX_DEV_ID_00ff=0x101300ff -D__BUILD_VERSION__=\"3.4.719\" -DFLASH_CONFIGURATION  -Idrivers/infiniband/mlx_utils_flexboot/include/  -Idrivers/infiniband/mlx_utils/include/  -Idrivers/infiniband/mlx_utils/include/public/  -Idrivers/infiniband/mlx_utils/include/private/  -Idrivers/infiniband/mlx_nodnic/include/  -Idrivers/infiniband/mlx_nodnic/include/public/  -Idrivers/infiniband/mlx_nodnic/include/private/  -Idrivers/infiniband/mlx_utils_flexboot/tests/include/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_reg_access/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_nvconfig/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_vmac/  -DDEVICE_CX4' 

#Build ConnectIB
make -j `getconf _NPROCESSORS_ONLN` bin/ConnectIB.mrom EXTRA_CFLAGS='-DMLX_BUILD -D__MLX_0001_MAJOR_VER_=0x00100003 -D__MLX_MIN_SUB_MIN_VER_=0x000402cf -D__MLX_DEV_ID_00ff=0x101100ff -D__BUILD_VERSION__=\"3.4.719\" -DFLASH_CONFIGURATION  -Idrivers/infiniband/mlx_utils_flexboot/include/  -Idrivers/infiniband/mlx_utils/include/  -Idrivers/infiniband/mlx_utils/include/public/  -Idrivers/infiniband/mlx_utils/include/private/  -Idrivers/infiniband/mlx_nodnic/include/  -Idrivers/infiniband/mlx_nodnic/include/public/  -Idrivers/infiniband/mlx_nodnic/include/private/  -Idrivers/infiniband/mlx_utils_flexboot/tests/include/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_reg_access/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_nvconfig/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_vmac/  -DDEVICE_CIB' 

#Build ConnectX-3
make -j `getconf _NPROCESSORS_ONLN` bin/ConnectX-3.mrom EXTRA_CFLAGS='-DMLX_BUILD -D__MLX_0001_MAJOR_VER_=0x00100003 -D__MLX_MIN_SUB_MIN_VER_=0x000402cf -D__MLX_DEV_ID_00ff=0x100300ff -D__BUILD_VERSION__=\"3.4.719\" -DFLASH_CONFIGURATION  -Idrivers/infiniband/mlx_utils_flexboot/include/  -Idrivers/infiniband/mlx_utils/include/  -Idrivers/infiniband/mlx_utils/include/public/  -Idrivers/infiniband/mlx_utils/include/private/  -Idrivers/infiniband/mlx_nodnic/include/  -Idrivers/infiniband/mlx_nodnic/include/public/  -Idrivers/infiniband/mlx_nodnic/include/private/  -Idrivers/infiniband/mlx_utils_flexboot/tests/include/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_reg_access/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_nvconfig/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_vmac/  -DDEVICE_CX3' 

#Build ConnectX-3 Pro
make -j `getconf _NPROCESSORS_ONLN` bin/ConnectX-3Pro.mrom EXTRA_CFLAGS='-DMLX_BUILD -D__MLX_0001_MAJOR_VER_=0x00100003 -D__MLX_MIN_SUB_MIN_VER_=0x000402cf -D__MLX_DEV_ID_00ff=0x100700ff -D__BUILD_VERSION__=\"3.4.719\" -DFLASH_CONFIGURATION  -Idrivers/infiniband/mlx_utils_flexboot/include/  -Idrivers/infiniband/mlx_utils/include/  -Idrivers/infiniband/mlx_utils/include/public/  -Idrivers/infiniband/mlx_utils/include/private/  -Idrivers/infiniband/mlx_nodnic/include/  -Idrivers/infiniband/mlx_nodnic/include/public/  -Idrivers/infiniband/mlx_nodnic/include/private/  -Idrivers/infiniband/mlx_utils_flexboot/tests/include/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_reg_access/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_nvconfig/  -Idrivers/infiniband/mlx_utils/mlx_lib/mlx_vmac/  -DDEVICE_CX3' 
